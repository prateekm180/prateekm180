#include <iostream>
#include <string>
void print_table(char initial_edge[], char final_edge[], int weights[], int
edges) {
std::cout << "i | f | W\n";
for (int i = 0; i < edges; i++) std::cout << initial_edge[i] << " | " <<
final_edge[i] << " | " << weights[i] << std::endl;
std::cout << "\n" << std::endl;
}
void sort_edges(char initial_edge[], char final_edge[], int weights[], int edges) 
{
for (int i = 0; i < edges - 1; i++) {
for (int j = 0; j < edges - i - 1; j++) {
if (weights[j] > weights[j + 1]) {
std::swap(weights[j], weights[j + 1]);
std::swap(initial_edge[j], initial_edge[j + 1]);
std::swap(final_edge[j], final_edge[j + 1]);
}
}
}
print_table(initial_edge, final_edge, weights, edges);
}
int find_parent(int parent[], int x) {
while (parent[x] != x) x = parent[x];
return x;
}
void union_nodes(int parent[], int a, int b) {
parent[b] = a; 
}
int get_index(char node_arr[], int n, char val) {
for (int i = 0; i < n; i++) {
if (node_arr[i] == val) return i;
} return -1;
}
void krushkal(char initial_edge[], char final_edge[], int weights[], int edges, 
char nodes[], int node_count){
sort_edges(initial_edge, final_edge, weights, edges);
int parent[node_count], total_cost = 0;
for (int i = 0; i < node_count; i++) parent[i] = i;
std::cout << "\nEdges selected for MST:\n";
for (int i = 0; i < edges; i++) {
int u = get_index(nodes, node_count, initial_edge[i]);
int v = get_index(nodes, node_count, final_edge[i]);
int pu = find_parent(parent, u);
int pv = find_parent(parent, v);
if (pu != pv) {
std::cout << initial_edge[i] << " -- " << final_edge[i] << " | " <<
weights[i] << std::endl;
total_cost += weights[i];
union_nodes(parent, pu, pv);
}
}
std::cout << "\nTotal Cost : " << total_cost << std::endl;
}
int main() {
std::string choice;
do {
int nodes, edges;
std::cout << "Enter the number of nodes : ";
std::cin >> nodes;
std::cout << "Enter the number of edges : ";
std::cin >> edges;
if (edges > ((nodes * (nodes - 1)) / 2) || edges < 0) std::cout << "ERROR 
: Invalid number of edges";
else {
char node_arr[nodes];
char initial_edge[edges], final_edge[edges];
int weights[edges];
std::cout << "Enter the nodes : ";
for (int i = 0; i < nodes; i++) std::cin >> node_arr[i];
std::cout << "Enter the edges (u v w):\n";
for (int i = 0; i < edges; i++) std::cin >> initial_edge[i] >>
final_edge[i] >> weights[i];
print_table(initial_edge, final_edge, weights, edges);
krushkal(initial_edge, final_edge, weights, edges, node_arr, nodes);
}
std::cout << "\nDo you want to continue (Yes/No): ";
std::cin >> choice;
} while (choice == "Yes" || choice == "yes");
return 0;
}
